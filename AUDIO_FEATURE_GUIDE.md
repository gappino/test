# راهنمای ویژگی صدا

## 🎤 ویژگی جدید: پخش صداهای تولید شده

### ✅ ویژگی‌های اضافه شده:

1. **🔄 ترجمه خودکار**: متن فارسی به انگلیسی ترجمه می‌شود
2. **🎵 تولید صدا**: متن انگلیسی به صدا تبدیل می‌شود
3. **▶️ پخش صدا**: کاربر می‌تواند صداها را در وبسایت بشنود
4. **📝 نمایش متن**: متن اصلی و ترجمه شده نمایش داده می‌شود

### 🎯 نحوه کارکرد:

#### مرحله 1: تولید صدا
- وقتی کاربر روی "تولید ویدیو کامل" کلیک می‌کند
- برای هر صحنه، متن فارسی به انگلیسی ترجمه می‌شود
- متن انگلیسی به صدا تبدیل می‌شود (TTS)

#### مرحله 2: نمایش نتایج
- بعد از تولید صدا، بخش "صداهای تولید شده" نمایش داده می‌شود
- برای هر صحنه:
  - متن اصلی (فارسی)
  - متن ترجمه شده (انگلیسی)
  - مدت زمان صدا
  - پلیر صدا برای پخش

#### مرحله 3: پخش صدا
- کاربر می‌تواند با پلیر HTML5 صدا را پخش کند
- یا با دکمه "پخش" صدا را بشنود

### 🔧 تکنولوژی‌های استفاده شده:

- **HTML5 Audio**: برای پخش صدا در مرورگر
- **JavaScript Audio API**: برای کنترل پخش
- **Mock TTS**: شبیه‌سازی تولید صدا
- **Translation**: ترجمه فارسی به انگلیسی

### 📋 ترجمه‌های موجود:

```javascript
'آیا می‌دانستید که هوش مصنوعی در حال تغییر دنیای ما است؟' 
→ 'Did you know that artificial intelligence is changing our world?'

'از تشخیص چهره تا تولید محتوا، AI همه جا حضور دارد' 
→ 'From face recognition to content generation, AI is everywhere'

'اما آینده چه چیزی در انتظار ما است؟' 
→ 'But what does the future hold for us?'

'هوش مصنوعی نه تنها کار ما را آسان‌تر می‌کند، بلکه فرصت‌های جدیدی ایجاد می‌کند' 
→ 'AI not only makes our work easier, but also creates new opportunities'

'آماده‌اید برای آینده‌ای که هوش مصنوعی در آن حاکم است؟' 
→ 'Are you ready for a future where AI rules?'
```

### 🎨 رابط کاربری:

- **بخش صداها**: نمایش تمام صداهای تولید شده
- **پلیر صدا**: کنترل‌های پخش، توقف، تنظیم صدا
- **اطلاعات صدا**: متن اصلی، ترجمه، مدت زمان
- **طراحی زیبا**: کارت‌های جذاب با انیمیشن

### 🔄 API Endpoints:

- `POST /api/whisper/text-to-speech` - تولید صدا
- `GET /api/whisper/audio/:audioId` - دریافت فایل صدا

### 🚀 نحوه استفاده:

1. **تولید اسکریپت**: روی "شروع تولید محتوا" کلیک کنید
2. **تولید تصاویر**: روی "تولید تصاویر" کلیک کنید
3. **انتخاب صدا**: نوع صدا را انتخاب کنید
4. **تولید ویدیو**: روی "تولید ویدیو کامل" کلیک کنید
5. **شنیدن صداها**: در بخش "صداهای تولید شده" صداها را بشنوید

### 🎯 ویژگی‌های فنی:

- **Cache**: صداها در حافظه سرور ذخیره می‌شوند
- **Unique ID**: هر صدا یک شناسه منحصر به فرد دارد
- **Audio Format**: فرمت MP3 برای سازگاری
- **Error Handling**: مدیریت خطاها

### 🔧 برای استفاده واقعی:

#### فعال‌سازی TTS واقعی:
1. در `routes/whisper.js` API واقعی Kokoro را اضافه کنید
2. فایل‌های صدا را در پوشه `uploads` ذخیره کنید
3. endpoint `/audio/:audioId` را برای سرو فایل‌های واقعی تغییر دهید

#### فعال‌سازی ترجمه واقعی:
1. Google Translate API را اضافه کنید
2. تابع `translateToEnglish` را به‌روزرسانی کنید

### 🎵 مزایای ویژگی:

- ✅ **شنیدن صدا**: کاربر می‌تواند صداها را بشنود
- ✅ **ترجمه خودکار**: متن فارسی به انگلیسی تبدیل می‌شود
- ✅ **کنترل پخش**: پلیر کامل با کنترل‌های مختلف
- ✅ **نمایش اطلاعات**: متن اصلی و ترجمه شده
- ✅ **طراحی زیبا**: رابط کاربری جذاب

---

**نکته**: این ویژگی فعلاً از Mock data استفاده می‌کند. برای استفاده واقعی، API های TTS و ترجمه را فعال کنید.


