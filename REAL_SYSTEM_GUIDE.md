# راهنمای سیستم واقعی تولید ویدیو

## 🎬 سیستم کامل و واقعی تولید ویدیو

### ✅ ویژگی‌های واقعی پیاده‌سازی شده:

1. **🎭 تولید اسکریپت**: با Mock Data (قابل تغییر به Gemini واقعی)
2. **🖼️ تولید تصاویر**: با Pollinations.ai (کاملاً واقعی)
3. **🎤 تولید صدا**: با Google TTS (کاملاً واقعی)
4. **🎬 ترکیب ویدیو**: با FFmpeg (کاملاً واقعی)

### 🔧 تکنولوژی‌های استفاده شده:

- **Google TTS**: تبدیل متن انگلیسی به صدا
- **FFmpeg**: ترکیب تصاویر و صدا به ویدیو
- **Pollinations.ai**: تولید تصاویر با کیفیت بالا
- **Node.js Streams**: مدیریت فایل‌ها

### 🚀 نحوه کارکرد واقعی:

#### مرحله 1: تولید اسکریپت
- Mock data نمایش داده می‌شود
- قابل تغییر به Gemini واقعی

#### مرحله 2: تولید تصاویر
- تصاویر با Pollinations.ai تولید می‌شوند
- دانلود و ذخیره در سرور

#### مرحله 3: تولید صدا
- متن فارسی به انگلیسی ترجمه می‌شود
- متن انگلیسی با Google TTS به صدا تبدیل می‌شود
- فایل‌های صدا در `uploads/audio/` ذخیره می‌شوند

#### مرحله 4: ترکیب ویدیو
- هر تصویر به یک ویدیو 5 ثانیه‌ای تبدیل می‌شود
- صدا به ویدیو اضافه می‌شود
- تمام بخش‌ها به هم متصل می‌شوند
- ویدیو نهایی در `output/` ذخیره می‌شود

### 📁 ساختار فایل‌ها:

```
videomakerfree_v1/
├── uploads/
│   └── audio/          # فایل‌های صدا
├── temp/               # فایل‌های موقت
├── output/             # ویدیوهای نهایی
├── routes/
│   ├── whisper.js      # Google TTS واقعی
│   ├── remotion.js     # FFmpeg ویدیو
│   └── video.js        # ترکیب نهایی
└── public/             # رابط کاربری
```

### 🎯 ویژگی‌های واقعی:

#### تولید صدا:
- ✅ **Google TTS**: صداهای واقعی تولید می‌شوند
- ✅ **فایل MP3**: فرمت استاندارد صدا
- ✅ **پخش در مرورگر**: HTML5 Audio Player
- ✅ **مدت زمان واقعی**: محاسبه شده با FFmpeg

#### تولید ویدیو:
- ✅ **FFmpeg**: ترکیب واقعی تصاویر و صدا
- ✅ **رزولوشن 1080x1920**: کیفیت بالا
- ✅ **فرمت MP4**: سازگار با تمام دستگاه‌ها
- ✅ **مدت زمان واقعی**: بر اساس تعداد صحنه‌ها

### 🔄 API Endpoints واقعی:

- `POST /api/whisper/text-to-speech` - تولید صدا واقعی
- `GET /api/whisper/audio/:audioId` - سرو فایل صدا
- `POST /api/remotion/compose-video` - ترکیب ویدیو واقعی
- `GET /api/remotion/download/:filename` - دانلود ویدیو

### 🚀 نحوه استفاده:

1. **سرور را اجرا کنید**:
```bash
npm start
```

2. **به آدرس زیر بروید**:
```
http://localhost:3002
```

3. **مراحل تولید**:
   - تولید اسکریپت (Mock)
   - تولید تصاویر (واقعی)
   - تولید صدا (واقعی)
   - ترکیب ویدیو (واقعی)

### 🎵 ویژگی‌های صدا:

- **ترجمه خودکار**: فارسی به انگلیسی
- **Google TTS**: کیفیت بالا
- **پخش در مرورگر**: HTML5 Audio
- **مدت زمان واقعی**: محاسبه شده

### 🎬 ویژگی‌های ویدیو:

- **FFmpeg**: ترکیب حرفه‌ای
- **رزولوشن بالا**: 1080x1920
- **فرمت استاندارد**: MP4
- **کیفیت بالا**: H.264

### 🔧 پیش‌نیازها:

- **FFmpeg**: برای ترکیب ویدیو
- **Node.js**: برای سرور
- **اینترنت**: برای Pollinations.ai و Google TTS

### 🚨 نکات مهم:

1. **FFmpeg**: باید روی سیستم نصب باشد
2. **فضای دیسک**: برای ذخیره فایل‌ها
3. **اینترنت**: برای دانلود تصاویر و تولید صدا
4. **زمان**: تولید ویدیو ممکن است چند دقیقه طول بکشد

### 🎯 مزایای سیستم واقعی:

- ✅ **صداهای واقعی**: با Google TTS
- ✅ **ویدیوهای واقعی**: با FFmpeg
- ✅ **کیفیت بالا**: رزولوشن و فرمت استاندارد
- ✅ **قابل دانلود**: ویدیوهای نهایی
- ✅ **پخش در مرورگر**: صدا و ویدیو

### 🔄 برای بهبود:

1. **Gemini واقعی**: جایگزینی Mock Data
2. **ترجمه واقعی**: Google Translate API
3. **صداهای بیشتر**: صداهای مختلف
4. **کیفیت بهتر**: تنظیمات FFmpeg

---

**نکته**: این سیستم کاملاً واقعی است و صدا و ویدیو واقعی تولید می‌کند!


