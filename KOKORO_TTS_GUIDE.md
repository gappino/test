# راهنمای سیستم Kokoro TTS واقعی

## 🎬 سیستم کامل تولید ویدیو با Kokoro TTS

### ✅ ویژگی‌های واقعی پیاده‌سازی شده:

1. **🎭 تولید اسکریپت**: با Mock Data (قابل تغییر به Gemini واقعی)
2. **🖼️ تولید تصاویر**: با Pollinations.ai (کاملاً واقعی)
3. **🎤 تولید صدا**: با Kokoro TTS (کاملاً واقعی)
4. **🎬 ترکیب ویدیو**: با FFmpeg (کاملاً واقعی)
5. **🎵 تست مستقیم TTS**: بخش جدید برای تست مستقیم

### 🔧 تکنولوژی‌های واقعی:

- **Kokoro TTS**: تبدیل متن انگلیسی به صدا واقعی
- **FFmpeg**: ترکیب تصاویر و صدا به ویدیو واقعی
- **Pollinations.ai**: تولید تصاویر با کیفیت بالا
- **HTML5 Audio/Video**: پخش در مرورگر
- **Python Shell**: ارتباط Node.js با Python

### 🚀 نحوه کارکرد واقعی:

#### مرحله 1: تولید اسکریپت
- Mock data (قابل تغییر به Gemini واقعی)

#### مرحله 2: تولید تصاویر
- تصاویر با Pollinations.ai تولید می‌شوند
- دانلود و ذخیره در سرور

#### مرحله 3: تولید صدا
- متن فارسی به انگلیسی ترجمه می‌شود
- متن انگلیسی با Kokoro TTS به صدا تبدیل می‌شود
- فایل‌های WAV واقعی تولید می‌شوند
- تبدیل WAV به MP3 برای سازگاری بهتر

#### مرحله 4: ترکیب ویدیو
- هر تصویر به ویدیو 5 ثانیه‌ای تبدیل می‌شود
- صدا به ویدیو اضافه می‌شود
- تمام بخش‌ها با FFmpeg ترکیب می‌شوند
- ویدیو MP4 واقعی تولید می‌شود

### 🎵 ویژگی‌های صدا:

- **ترجمه خودکار**: فارسی به انگلیسی
- **Kokoro TTS**: کیفیت بالا
- **پخش در مرورگر**: HTML5 Audio
- **مدت زمان واقعی**: محاسبه شده
- **فرمت استاندارد**: WAV و MP3

### 🎬 ویژگی‌های ویدیو:

- **FFmpeg**: ترکیب حرفه‌ای
- **رزولوشن بالا**: 1080x1920
- **فرمت استاندارد**: MP4
- **کیفیت بالا**: H.264

### 🚀 نحوه استفاده:

1. **سرور را اجرا کنید**:
```bash
npm start
```

2. **به آدرس زیر بروید**:
```
http://localhost:3003
```

3. **مراحل تولید**:
   - تولید اسکریپت → تولید تصاویر → تولید صدا → ترکیب ویدیو

### 🎤 تست مستقیم TTS:

1. **بخش جدید**: "تست مستقیم تبدیل متن به صدا"
2. **متن خود را وارد کنید**: هر متنی که می‌خواهید
3. **صدا را انتخاب کنید**: از لیست صداهای موجود
4. **تبدیل به صدا**: کلیک کنید و صدا تولید می‌شود
5. **پخش صدا**: در مرورگر پخش کنید

### 📁 فایل‌های واقعی:

- `uploads/audio/` - فایل‌های صدا واقعی
- `temp/` - فایل‌های موقت
- `output/` - ویدیوهای نهایی واقعی
- `kokoro_simple.py` - اسکریپت Python برای Kokoro

### 🔧 پیش‌نیازها:

- **Python**: برای اجرای Kokoro TTS
- **FFmpeg**: برای ترکیب ویدیو
- **Node.js**: برای سرور
- **اینترنت**: برای Pollinations.ai
- **فضای دیسک**: برای ذخیره فایل‌ها

### 🎯 مزایای سیستم واقعی:

- ✅ **صداهای واقعی**: با Kokoro TTS
- ✅ **ویدیوهای واقعی**: با FFmpeg
- ✅ **کیفیت بالا**: رزولوشن و فرمت استاندارد
- ✅ **قابل دانلود**: ویدیوهای نهایی
- ✅ **پخش در مرورگر**: صدا و ویدیو
- ✅ **تست مستقیم**: بخش جداگانه برای TTS

### 🔄 API Endpoints واقعی:

- `POST /api/whisper/text-to-speech` - تولید صدا واقعی
- `GET /api/whisper/audio/:audioId` - سرو فایل صدا
- `GET /api/whisper/voices` - لیست صداهای موجود
- `POST /api/remotion/compose-video` - ترکیب ویدیو واقعی
- `GET /api/remotion/download/:filename` - دانلود ویدیو

### 🎤 صداهای موجود:

- **Default Voice**: صدای پیش‌فرض
- **Female Voice**: صدای زن
- **Male Voice**: صدای مرد
- **Child Voice**: صدای کودک
- **Robot Voice**: صدای ربات
- **Whisper Voice**: صدای زمزمه

### 🚨 نکات مهم:

1. **Python**: باید روی سیستم نصب باشد
2. **FFmpeg**: باید روی سیستم نصب باشد
3. **فضای دیسک**: برای ذخیره فایل‌ها
4. **اینترنت**: برای دانلود تصاویر
5. **زمان**: تولید ویدیو ممکن است چند دقیقه طول بکشد

### 🔄 برای بهبود:

1. **Gemini واقعی**: جایگزینی Mock Data
2. **ترجمه واقعی**: Google Translate API
3. **صداهای بیشتر**: صداهای مختلف
4. **کیفیت بهتر**: تنظیمات FFmpeg

### 🎯 ویژگی‌های منحصر به فرد:

- **Kokoro TTS**: استفاده از تکنولوژی پیشرفته
- **تست مستقیم**: بخش جداگانه برای تست TTS
- **ترکیب کامل**: اسکریپت + تصاویر + صدا + ویدیو
- **رابط کاربری**: زیبا و کاربرپسند

---

**نکته**: این سیستم کاملاً واقعی است و صدا و ویدیو واقعی تولید می‌کند!


